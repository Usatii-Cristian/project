<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FunCasino - Toate jocurile</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #111;
      color: #fff;
      line-height: 1.6;
    }
    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      position: relative; /* Pentru pozi»õionarea absolutƒÉ a meniului */
    }
    header {
      text-align: center;
      margin-bottom: 20px;
    }
    header h1 {
      color: #ffcc00;
      font-size: 2.5em;
      text-shadow: 0 0 10px #ff4444;
    }
    .balance {
      font-size: 1.4em;
      color: #0f0;
      margin: 10px 0;
    }
    /* Meniu de jocuri pe dreapta */
    .game-menu-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 100;
    }
    .menu-toggle-btn {
      background: #ff4444;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
    }
    .menu-toggle-btn:hover {
      background: #ff6666;
    }
    .game-selector-sidebar {
      display: none; /* Ascuns implicit */
      flex-direction: column;
      gap: 10px;
      margin-top: 10px;
      background: rgba(34, 34, 34, 0.95);
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 100, 100, 0.3);
    }
    .game-selector-sidebar button {
      background: #333;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
      width: 100%;
      text-align: left;
    }
    .game-selector-sidebar button:hover {
      background: #555;
    }
    .game-selector-sidebar button.active {
      background: #ff4444;
      color: white;
    }
    /* Restul stilurilor rƒÉm√¢n aproape la fel */
    .bet-area {
      background: #222;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      text-align: center;
    }
    .bet-options {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
      margin: 10px 0;
    }
    .bet-btn {
      background: #444;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
    }
    .bet-btn:hover {
      background: #666;
    }
    .bet-input {
      width: 100px;
      padding: 10px;
      border-radius: 8px;
      border: none;
      text-align: center;
      font-size: 16px;
    }
    .games {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .game {
      display: none;
      background: #222;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(255, 100, 100, 0.2);
    }
    .game.active {
      display: block;
    }
    .game h2 {
      color: #ffcc00;
      margin-bottom: 15px;
    }
    /* Istoric Crush */
    .history {
      display: flex;
      justify-content: center;
      gap: 5px;
      flex-wrap: wrap;
      margin: 15px 0;
    }
    .history-item {
      width: 40px;
      height: 40px;
      background: #333;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 14px;
    }
    .history-item.crash {
      background: #ff4444;
      color: white;
    }
    .history-item.small {
      background: #444;
      color: #aaa;
    }
    /* Sloturi */
    .reels {
      display: flex;
      justify-content: center;
      gap: 10px;
      font-size: 60px;
      margin: 20px 0;
      height: 80px;
    }
    .reel {
      width: 80px;
      height: 80px;
      background: #fff;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #000;
      box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
    /* Plinko */
    .plinko-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 auto;
    }
    .plinko-board {
      width: 300px;
      height: 400px;
      margin: 20px auto;
      background: #333;
      border-radius: 15px;
      position: relative;
      overflow: hidden;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
    }
    .peg {
      position: absolute;
      width: 12px;
      height: 12px;
      background: #ccc;
      border-radius: 50%;
    }
    .ball {
      position: absolute;
      width: 16px;
      height: 16px;
      background: #ff4444;
      border-radius: 50%;
      transition: top 0.1s linear, left 0.1s linear;
      z-index: 2;
    }
    .plinko-slots {
      display: flex;
      margin-top: 10px;
      font-size: 14px;
      justify-content: center;
      gap: 10px;
      width: 300px;
    }
    /* Crush */
    .crush-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .crush-area {
      width: 300px;
      height: 300px;
      margin: 20px auto;
      background: #111;
      border-radius: 50%;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 30px rgba(255, 50, 50, 0.4);
    }
    .crush-plane {
      width: 60px;
      height: 60px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2300bfff"><path d="M2 12l10-7v4h4v6h-4v4z"/></svg>') no-repeat center;
      background-size: contain;
      position: absolute;
      top: 220px;
      left: 120px;
      transition: transform 0.3s;
    }
    .crush-multiplier {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 40px;
      font-weight: bold;
      color: white;
      text-shadow: 0 0 10px black;
    }
    .explosion {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: radial-gradient(circle, #ff5500, #ff0000);
      border-radius: 50%;
      display: none;
      z-index: 10;
    }
    /* Tower */
    .tower-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .difficulty {
      margin-bottom: 15px;
    }
    .difficulty button {
      background: #444;
      color: white;
      border: none;
      padding: 8px 12px;
      margin: 0 5px;
      border-radius: 8px;
    }
    .difficulty button.active {
      background: #ff4444;
    }
    .tower-grid {
      display: grid;
      /* grid-template-columns: repeat(5, 1fr); */ /* Se seteazƒÉ din JS */
      gap: 10px;
      margin: 20px 0;
      width: 300px;
    }
    .tower-cell {
      aspect-ratio: 1;
      background: #333;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: 0.3s;
    }
    .tower-cell:hover {
      background: #555;
    }
    .tower-cell.safe {
      background: #0f0;
    }
    .tower-cell.bonus {
      background: #ffcc00;
      color: #000;
    }
    .tower-cell.bomb {
      background: #f00;
    }
    /* Miner */
    .miner-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .bombs-select {
      margin-bottom: 15px;
    }
    .bombs-select button {
      background: #444;
      color: white;
      border: none;
      padding: 8px 12px;
      margin: 0 5px;
      border-radius: 8px;
    }
    .bombs-select button.active {
      background: #ff4444;
    }
    .miner-grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 10px;
      margin: 20px 0;
      width: 360px;
    }
    .miner-cell {
      aspect-ratio: 1;
      background: #333;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: 0.3s;
    }
    .miner-cell:hover {
      background: #555;
    }
    .miner-cell.bomb {
      background: #f00;
    }
    .miner-cell.safe {
      background: #0f0;
    }
    .miner-cell.crystal {
      background: #00bfff;
    }
    /* Crossy */
    .crossy-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .crossy-path {
      width: 300px;
      height: 40px;
      background: #444;
      border-radius: 10px;
      margin: 5px 0;
      display: flex;
      justify-content: space-around;
      align-items: center;
      position: relative;
      overflow: hidden;
    }
    .crossy-car {
      position: absolute;
      width: 40px;
      height: 30px;
      background: #ff5555;
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      animation: carMove 3s linear infinite;
    }
    @keyframes carMove {
      from { left: -50px; }
      to { left: 350px; }
    }
    .crossy-player {
      position: absolute;
      width: 30px;
      height: 30px;
      background: #00bfff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      transition: left 0.3s ease;
    }
    .crossy-choice-btns {
      margin: 15px 0;
      display: flex;
      gap: 10px;
    }
    .crossy-choice-btns button {
      padding: 10px 15px;
      font-size: 16px;
    }
    .crossy-message {
      margin: 10px 0;
      min-height: 24px;
      color: #ffcc00;
    }
    .crossy-win-display {
      font-size: 1.2em;
      color: #0f0;
      margin: 10px 0;
    }
    /* Butoane generale */
    .btn-primary {
      background: #ff4444;
      color: white;
      border: none;
      padding: 14px 24px;
      font-size: 18px;
      border-radius: 10px;
      cursor: pointer;
      margin: 10px;
      transition: 0.3s;
    }
    .btn-primary:hover {
      background: #ff6666;
      transform: scale(1.05);
    }
    .btn-primary:disabled {
      background: #444;
      cursor: not-allowed;
      transform: scale(1);
    }
    .btn-secondary {
      background: #555;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      margin: 10px;
    }
    .btn-secondary:hover {
      background: #777;
    }
    .message {
      margin: 15px 0;
      font-size: 18px;
      min-height: 28px;
      color: #ffcc00;
      text-align: center;
    }
    footer {
      text-align: center;
      margin-top: 30px;
      color: #777;
      font-size: 0.9em;
    }
    footer button {
      background: #ff4444;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      margin: 5px;
    }
    footer button:hover {
      background: #ff6666;
    }
    @media (max-width: 600px) {
      .container { padding: 10px; }
      header h1 { font-size: 2em; }
      .reels { font-size: 50px; }
      .reel { width: 60px; height: 60px; }
      .plinko-board, .crush-area, .tower-grid, .miner-grid, .crossy-path { width: 280px; }
      .miner-grid { grid-template-columns: repeat(5, 1fr); width: 250px; }
      .bet-options { gap: 5px; }
      .bet-btn { padding: 8px 12px; font-size: 14px; }
      .game-menu-container {
          top: 10px;
          right: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üé∞ FunCasino</h1>
      <div class="balance">Monede: <span id="coins">1000</span></div>
    </header>

    <!-- Meniu de jocuri pe dreapta -->
    <div class="game-menu-container">
      <button class="menu-toggle-btn" id="menu-toggle">‚ò∞ Meniu Jocuri</button>
      <div class="game-selector-sidebar" id="game-sidebar">
        <button onclick="switchGame('slots')">üé∞ Sloturi</button>
        <button onclick="switchGame('plinko')">üéØ Plinko</button>
        <button onclick="switchGame('crush')">üöÄ Crush</button>
        <button onclick="switchGame('tower')">üß± Tower</button>
        <button onclick="switchGame('miner')">üíé Miner</button>
        <button onclick="switchGame('crossy')">üö∂ Crossy</button>
        <button onclick="switchGame('blackjack')">üÉè BlackJack</button>
      </div>
    </div>

    <!-- ZonƒÉ pariuri -->
    <div class="bet-area">
      <strong>Alege suma pariata:</strong>
      <div class="bet-options">
        <button class="bet-btn" onclick="setBet(5)">5</button>
        <button class="bet-btn" onclick="setBet(10)">10</button>
        <button class="bet-btn" onclick="setBet(25)">25</button>
        <button class="bet-btn" onclick="setBet(50)">50</button>
        <button class="bet_btn" onclick="setBet(100)">100</button>
        <input type="number" id="custom-bet" class="bet-input" placeholder="Altele" min="1" />
        <button class="bet-btn" onclick="applyCustomBet()">OK</button>
      </div>
    </div>
    <!-- Mesaj -->
    <div class="message" id="message"></div>
    <!-- Jocuri -->
    <div class="games">
      <!-- SLOTURI -->
      <div id="slots" class="game active">
        <h2>üé∞ Sloturi</h2>
        <div class="reels">
          <div class="reel" id="r1">üçí</div>
          <div class="reel" id="r2">üçã</div>
          <div class="reel" id="r3">üçâ</div>
        </div>
        <button class="btn-primary" id="spin">Spin</button>
      </div>
      <!-- PLINKO -->
      <div id="plinko" class="game">
        <h2>üéØ Plinko</h2>
        <p>Alege c√¢te bile vrei sƒÉ arunci (cost: 5 monede/bilƒÉ)</p>
        <div class="bet-options">
          <button class="bet-btn" onclick="setPlinkoBalls(1)">1 bilƒÉ</button>
          <button class="bet-btn" onclick="setPlinkoBalls(5)">5 bile</button>
          <button class="bet-btn" onclick="setPlinkoBalls(10)">10 bile</button>
          <input type="number" id="plinko-balls" class="bet-input" placeholder="Altele" min="1" />
          <button class="bet-btn" onclick="applyPlinkoBalls()">OK</button>
        </div>
        <div class="plinko-container">
          <div class="plinko-board" id="plinko-board"></div>
          <div class="plinko-slots" id="plinko-slots"></div>
          <button class="btn-primary" id="drop-ball">AruncƒÉ bilele</button>
        </div>
      </div>
      <!-- CRUSH -->
      <div id="crush" class="game">
        <h2>üöÄ Crush</h2>
        <p>Retrage-te √Ænainte ca avionul sƒÉ explodeze!</p>
        <div class="history" id="crush-history"></div>
        <div class="crush-container">
          <div class="crush-area">
            <div class="explosion" id="explosion"></div>
            <div class="crush-plane" id="plane"></div>
            <div class="crush-multiplier" id="multiplier">1.00x</div>
          </div>
          <button class="btn-primary" id="start-crush">Start</button>
          <button class="btn-primary" id="cash-out" disabled>Cash Out</button>
        </div>
      </div>
      <!-- TOWER -->
      <div id="tower" class="game">
        <h2>üß± Tower</h2>
        <p>Alege nivelul »ôi urcƒÉ c√¢t mai sus!</p>
        <div class="difficulty">
          <button onclick="setTowerDiff('easy')" class="active">U»ôor</button>
          <button onclick="setTowerDiff('medium')">Mediu</button>
          <button onclick="setTowerDiff('hard')">Dificil</button>
        </div>
        <div class="tower-container">
          <div class="tower-grid" id="tower-grid"></div>
          <button class="btn-primary" id="start-tower">Start Joc</button>
        </div>
      </div>
      <!-- MINER -->
      <div id="miner" class="game">
        <h2>üíé Miner</h2>
        <p>Deschide blocuri sigure »ôi extrage banii oric√¢nd!</p>
        <div class="bombs-select">
          <button onclick="setBombs(1)" class="active">1 üí£</button>
          <button onclick="setBombs(3)">3 üí£</button>
          <button onclick="setBombs(5)">5 üí£</button>
          <button onclick="setBombs(10)">10 üí£</button>
          <button onclick="setBombs(15)">15 üí£</button>
          <button onclick="setBombs(20)">20 üí£</button>
          <button onclick="setBombs(24)">24 üí£</button>
        </div>
        <div class="miner-container">
          <div class="miner-grid" id="miner-grid"></div>
          <button class="btn-primary" id="start-miner">Start Joc</button>
          <button class="btn-secondary" id="cash-out-miner" disabled>üí∞ Extrage banii acum</button>
        </div>
      </div>
       <!-- CROSSY -->
      <div id="crossy" class="game">
        <h2>üö∂ Crossy Road</h2>
        <p>TraverseazƒÉ strƒÉzile fƒÉrƒÉ sƒÉ te loveshti de ma»ôini!</p>
        <div class="crossy-container">
          <div id="crossy-game-area"></div>
          <div class="crossy-choice-btns">
            <button class="btn-primary" onclick="crossyChoose('left')" id="crossy-left-btn" disabled>‚¨ÖÔ∏è St√¢nga</button>
            <button class="btn-primary" onclick="crossyChoose('center')" id="crossy-center-btn" disabled>‚è∫Ô∏è Mijloc</button>
            <button class="btn-primary" onclick="crossyChoose('right')" id="crossy-right-btn" disabled>‚û°Ô∏è Dreapta</button>
          </div>
          <div class="crossy-message" id="crossy-message">ApasƒÉ 'Start Joc' pentru a √Æncepe.</div>
          <div class="crossy-win-display" id="crossy-win-display"></div>
          <button class="btn-primary" id="start-crossy">Start Joc</button>
          <button class="btn-secondary" id="cash-out-crossy" disabled>üí∞ Cash Out</button>
        </div>
      </div>
    </div>
    <!-- Resetare + Sus»õinere -->
    <div style="text-align:center; margin:20px 0;">
      <button id="reset" style="background:#555;">üîÑ Resetare progres</button>
      <button id="support" style="background:#ff4444;">‚ù§Ô∏è Sus»õine autorul</button>
    </div>
    <footer>
      FunCasino ¬© 2025 | Doar pentru divertisment ‚Äì fƒÉrƒÉ bani reali.Doar bosii adevarati joaca acest joc, un multumesc special catre Davidan din Soroca IPLT "Ion Creanga" clasa 9B 2025
    </footer>
  </div>
  <script>
    // üîó √énlocuie»ôte cu Instagram-ul tƒÉu!
    const instagramLink = "https://www.instagram.com/cri.sti__"; // ‚Üê AICI pune numele tƒÉu!
    // Stare jucƒÉtor
    let coins = parseInt(localStorage.getItem('funCasinoCoins')) || 1000;
    let currentBet = 10;
    let isSpinning = false;
    let isDropping = false;
    let isCrushing = false;
    let crushInterval;
    let historyCrush = JSON.parse(localStorage.getItem('crushHistory')) || [];
    // Elemente
    const coinDisplay = document.getElementById('coins');
    const messageBox = document.getElementById('message');
    const customBetInput = document.getElementById('custom-bet');
    function updateCoins() {
      coinDisplay.textContent = coins;
      localStorage.setItem('funCasinoCoins', coins);
    }
    // --- Pariu ---
    function setBet(amount) {
      if (amount > 0) currentBet = amount;
    }
    function applyCustomBet() {
      const val = parseInt(customBetInput.value);
      if (val && val > 0 && val <= 10000) {
        currentBet = val;
        messageBox.textContent = `Pariu: ${val} monede`;
        setTimeout(() => messageBox.textContent = "", 2000);
      } else {
        messageBox.textContent = "SumƒÉ invalidƒÉ!";
        setTimeout(() => messageBox.textContent = "", 2000);
      }
    }
    // --- Meniu Jocuri pe Dreapta ---
    const menuToggle = document.getElementById('menu-toggle');
    const gameSidebar = document.getElementById('game-sidebar');
    menuToggle.addEventListener('click', () => {
        if (gameSidebar.style.display === 'flex') {
            gameSidebar.style.display = 'none';
        } else {
            gameSidebar.style.display = 'flex';
        }
    });
    // --- Schimbare joc ---
    function switchGame(gameId) {
      document.querySelectorAll('.game').forEach(g => g.classList.remove('active'));
      document.getElementById(gameId).classList.add('active');
      // ActualizƒÉm butonul activ din sidebar
      document.querySelectorAll('.game-selector-sidebar button').forEach(b => b.classList.remove('active'));
      const sidebarButtons = document.querySelectorAll('.game-selector-sidebar button');
      for (let button of sidebarButtons) {
        // VerificƒÉm dacƒÉ textul butonului con»õine numele jocului
        if (button.textContent.includes(
          gameId === 'slots' ? 'Sloturi' :
          gameId === 'plinko' ? 'Plinko' :
          gameId === 'crush' ? 'Crush' :
          gameId === 'tower' ? 'Tower' :
          gameId === 'miner' ? 'Miner' :
          'Crossy' // AdƒÉugat pentru Crossy
        )) {
          button.classList.add('active');
          break;
        }
      }
      // Ascundem meniul dupƒÉ ce a fost selectat un joc (pe mobil e util)
      if (window.innerWidth <= 600) {
          gameSidebar.style.display = 'none';
      }
    }
    // --- ISTORIC CRUSH ---
    function updateCrushHistory() {
      const hist = document.getElementById('crush-history');
      hist.innerHTML = '';
      [...historyCrush.slice(-10)].reverse().forEach(x => {
        const item = document.createElement('div');
        item.className = x <= 1.0 ? 'history-item crash' : 'history-item';
        item.textContent = `${x.toFixed(2)}x`;
        hist.appendChild(item);
      });
    }
    updateCrushHistory();
    // --- SLOTURI ---
    const symbols = ['üçí', 'üçã', 'üçâ', 'üçá', 'üçä', 'üîî', 'üíé', '7Ô∏è‚É£'];
    const reels = [document.getElementById('r1'), document.getElementById('r2'), document.getElementById('r3')];
    const spinButton = document.getElementById('spin');
    spinButton.addEventListener('click', () => {
      if (isSpinning || coins < currentBet) {
        messageBox.innerHTML = `<span style="color:#f55">Fonduri insuficiente!</span>`;
        return;
      }
      isSpinning = true;
      coins -= currentBet;
      updateCoins();
      messageBox.textContent = "Rotire...";
      let spins = 0;
      const maxSpins = 20;
      const spinInterval = setInterval(() => {
        reels[0].textContent = symbols[Math.floor(Math.random() * symbols.length)];
        reels[1].textContent = symbols[Math.floor(Math.random() * symbols.length)];
        reels[2].textContent = symbols[Math.floor(Math.random() * symbols.length)];
        spins++;
        if (spins >= maxSpins) {
          clearInterval(spinInterval);
          checkWin();
          isSpinning = false;
        }
      }, 100);
    });
    function checkWin() {
      const r1 = reels[0].textContent;
      const r2 = reels[1].textContent;
      const r3 = reels[2].textContent;
      let win = 0;
      if (r1 === r2 && r2 === r3) {
        win = r1 === '7Ô∏è‚É£' ? 50 : r1 === 'üíé' ? 30 : 10;
      } else if (r1 === r2 || r1 === r3 || r2 === r3) {
        win = 2;
      }
      win = Math.floor(win * currentBet);
      if (win > 0) {
        coins += win;
        messageBox.innerHTML = `<span style="color:#0f0">üéâ C√¢»ôtig: +${win} monede!</span>`;
      } else {
        messageBox.innerHTML = `<span style="color:#f55">Ai pierdut ${currentBet} monede.</span>`;
      }
      updateCoins();
    }

    // --- PLINKO - Versiune ActualizatƒÉ ---
    const board = document.getElementById('plinko-board');
    const slotsContainer = document.getElementById('plinko-slots');
    const dropButton = document.getElementById('drop-ball');
    let plinkoBallCount = 1;
    const plinkoValues = [10, 5, 20, 2, 50, 2, 20, 5, 10]; // 9 sloturi

    // Dimensiuni constante
    const PEG_RADIUS = 6; // Raza bol»õului (jumƒÉtate din 12px)
    const BALL_RADIUS = 8; // Raza bilei (jumƒÉtate din 16px)
    const ROW_SPACING = 40; // Spa»õiere verticalƒÉ √Æntre r√¢nduri
    const COL_SPACING = 30; // Spa»õiere orizontalƒÉ √Æntre bol»õuri (ajustabil)
    const START_Y = 30; // Pozi»õia Y de start a bilei
    const SLOT_WIDTH = 30; // LƒÉ»õimea fiecƒÉrui slot

    // StocƒÉm pozi»õiile bol»õilor pentru referin»õƒÉ
    let pegPositions = [];

    function createPegs() {
      board.innerHTML = '';
      pegPositions = []; // ResetƒÉm pozi»õiile
      const boardWidth = board.clientWidth || 300; // Fallback
      const boardHeight = board.clientHeight || 400; // Fallback

      const rows = 8; // NumƒÉr de r√¢nduri de bol»õuri

      for (let row = 0; row < rows; row++) {
        const pegsInThisRow = row + 1; // Primul r√¢nd are 1 bol»õ, al doilea 2 etc.
        // CalculƒÉm offset-ul pentru a centra r√¢ndul curent
        const rowWidth = (pegsInThisRow - 1) * COL_SPACING;
        const rowStartX = (boardWidth - rowWidth) / 2;

        for (let col = 0; col < pegsInThisRow; col++) {
          const peg = document.createElement('div');
          peg.className = 'peg';

          const x = rowStartX + col * COL_SPACING;
          const y = START_Y + row * ROW_SPACING;

          peg.style.left = `${x - PEG_RADIUS}px`; // AjustƒÉm pentru centrare
          peg.style.top = `${y - PEG_RADIUS}px`;  // AjustƒÉm pentru centrare

          board.appendChild(peg);
          // StocƒÉm pozi»õia centralƒÉ a bol»õului
          pegPositions.push({ x: x, y: y, row: row, col: col });
        }
      }

      // ActualizƒÉm sloturile
      slotsContainer.innerHTML = '';
      const slotContainerWidth = slotsContainer.clientWidth || boardWidth;
      const slotStartX = (slotContainerWidth - (plinkoValues.length * SLOT_WIDTH)) / 2;

      plinkoValues.forEach((val, index) => {
        const slot = document.createElement('div');
        slot.style.width = `${SLOT_WIDTH}px`;
        slot.style.marginLeft = index === 0 ? `${slotStartX}px` : '0';
        slot.style.marginRight = index === plinkoValues.length - 1 ? `${slotStartX}px` : '0';
        slot.textContent = val;
        slot.style.color = val > 20 ? '#0f0' : val < 10 ? '#aaa' : '#ffcc00';
        slotsContainer.appendChild(slot);
      });
    }

    // Ini»õializƒÉm o datƒÉ la √ÆncƒÉrcare
    window.addEventListener('load', createPegs);
    // Re-creƒÉm bol»õurile dacƒÉ fereastra se redimensioneazƒÉ
    window.addEventListener('resize', createPegs);

    function setPlinkoBalls(count) {
      plinkoBallCount = count;
    }
    function applyPlinkoBalls() {
      const val = parseInt(document.getElementById('plinko-balls').value);
      if (val && val > 0) plinkoBallCount = val;
    }
    dropButton.addEventListener('click', () => {
      const totalCost = plinkoBallCount * 5;
      if (coins < totalCost) {
        messageBox.innerHTML = `<span style="color:#f55">Nu ai suficiente monede pentru ${plinkoBallCount} bile!</span>`;
        return;
      }
      coins -= totalCost;
      updateCoins();
      messageBox.textContent = `Arunc ${plinkoBallCount} bile...`;
      let ballsDone = 0;
      for (let b = 0; b < plinkoBallCount; b++) {
        setTimeout(() => {
          const ball = document.createElement('div');
          ball.className = 'ball';
          // Pornim bila din centrul tablei
          const startX = (board.clientWidth || 300) / 2 - BALL_RADIUS;
          const startY = START_Y - BALL_RADIUS * 2;
          ball.style.left = `${startX}px`;
          ball.style.top = `${startY}px`;
          board.appendChild(ball);

          let ballX = (board.clientWidth || 300) / 2; // Pozi»õia X centralƒÉ logicƒÉ
          let ballY = START_Y;               // Pozi»õia Y logicƒÉ
          let currentRow = -1; // Bila √Æncepe deasupra primului r√¢nd

          const fallInterval = setInterval(() => {
            ballY += ROW_SPACING; // Cobor√¢m bila logic cu o linie
            currentRow++;

            if (currentRow >= 8) { // DacƒÉ a trecut de ultimul r√¢nd
              clearInterval(fallInterval);
              // DeterminƒÉm slotul √Æn func»õie de pozi»õia finalƒÉ X
              const slotContainerWidth = slotsContainer.clientWidth || (board.clientWidth || 300);
              const slotsStartX = ((board.clientWidth || 300) - slotContainerWidth) / 2 + (slotContainerWidth - (plinkoValues.length * SLOT_WIDTH)) / 2;
              let slotIndex = Math.floor((ballX - slotsStartX) / SLOT_WIDTH);
              // AsigurƒÉm-ne cƒÉ indexul este √Æn limite
              slotIndex = Math.max(0, Math.min(slotIndex, plinkoValues.length - 1));

              const winValue = plinkoValues[slotIndex];
              const win = Math.floor(winValue * currentBet / 10); // Calcul c√¢»ôtig
              coins += win;
              updateCoins();
              board.removeChild(ball);
              ballsDone++;
              if (ballsDone === plinkoBallCount) {
                messageBox.innerHTML = `<span style="color:#0f0">üéâ Ai c√¢»ôtigat ${win * plinkoBallCount} monede √Æn total!</span>`;
              }
            } else {
              // VerificƒÉm interac»õiunea cu bol»õurile din r√¢ndul curent
              const pegsInCurrentRow = currentRow + 1;
              const rowWidth = (pegsInCurrentRow - 1) * COL_SPACING;
              const rowStartX = ((board.clientWidth || 300) - rowWidth) / 2;

              // DeterminƒÉm bol»õul "cel mai apropiat" de centrul bilei
              let pegIndex = Math.round((ballX - rowStartX) / COL_SPACING);
              pegIndex = Math.max(0, Math.min(pegIndex, pegsInCurrentRow - 1)); // LimitƒÉm

              // GƒÉsim pozi»õia exactƒÉ a bol»õului cu acest index √Æn r√¢ndul curent
              const targetPeg = pegPositions.find(p => p.row === currentRow && p.col === pegIndex);

              if (targetPeg) {
                // SimulƒÉm o loviturƒÉ u»ôoarƒÉ: bila se mi»ôcƒÉ u»ôor spre st√¢nga sau dreapta
                const direction = Math.random() > 0.5 ? 1 : -1;
                // MutƒÉm bila logic pe X
                ballX += direction * (COL_SPACING / 2);
                 // ActualizƒÉm pozi»õia vizualƒÉ a bilei
                ball.style.left = `${ballX - BALL_RADIUS}px`;
                // Pozi»õia Y este deja actualizatƒÉ mai sus
                ball.style.top = `${ballY - BALL_RADIUS}px`;
              } else {
                  // √én caz de eroare (nu ar trebui sƒÉ aparƒÉ), doar cobor√¢m bila
                   ball.style.top = `${ballY - BALL_RADIUS}px`;
              }
            }
          }, 150); // VitezƒÉ de cƒÉdere
        }, b * 800); // √ént√¢rziere √Æntre bile
      }
    });
    // --- CRUSH - Ritm Modificat ---
    const plane = document.getElementById('plane');
    const multiplier = document.getElementById('multiplier');
    const explosion = document.getElementById('explosion');
    const startCrush = document.getElementById('start-crush');
    const cashOut = document.getElementById('cash-out');
    startCrush.addEventListener('click', () => {
      if (isCrushing || coins < currentBet) {
        messageBox.innerHTML = `<span style="color:#f55">Fonduri insuficiente!</span>`;
        return;
      }
      isCrushing = true;
      coins -= currentBet;
      updateCoins();
      messageBox.textContent = "ZboarƒÉ... dar explodeazƒÉ oric√¢nd!";
      explosion.style.display = 'none';
      plane.style.transform = 'rotate(0deg)';
      multiplier.textContent = '1.00x';
      cashOut.disabled = false;
      let factor = 1.00;
      // Cre»ôtere de 1.00/sec + 0.01/sec suplimentar
      crushInterval = setInterval(() => {
        factor += 1.00; // +1/sec
        factor += 0.01; // +0.01/sec suplimentar
        multiplier.textContent = factor.toFixed(2) + 'x';
        plane.style.transform = `rotate(${(factor - 1) * 50}deg)`; // Rotire mai lentƒÉ
        // »òansƒÉ de explozie bazatƒÉ pe multiplicator
        if (Math.random() < 0.02 + (factor * 0.0005)) { // Ajustat pentru noua vitezƒÉ
          clearInterval(crushInterval);
          explosion.style.display = 'block';
          const xValue = parseFloat(multiplier.textContent);
          historyCrush.push(xValue);
          if (historyCrush.length > 50) historyCrush.shift();
          localStorage.setItem('crushHistory', JSON.stringify(historyCrush));
          updateCrushHistory();
          messageBox.innerHTML = `<span style="color:#f00">üí• Explode la ${xValue.toFixed(2)}x! Ai pierdut!</span>`;
          cashOut.disabled = true;
          isCrushing = false;
        }
      }, 1000); // Interval de 1 secundƒÉ pentru cre»ôtere constantƒÉ
    });
    cashOut.addEventListener('click', () => {
      if (!isCrushing) return;
      clearInterval(crushInterval);
      const win = Math.floor(currentBet * parseFloat(multiplier.textContent));
      coins += win;
      messageBox.innerHTML = `<span style="color:#0f0">‚úÖ Cash Out la ${multiplier.textContent}! +${win} monede!</span>`;
      cashOut.disabled = true;
      isCrushing = false;
      updateCoins();
    });
    // --- TOWER - 8 Etaje »ôi DificultƒÉ»õi Revizuite ---
    let towerDifficulty = 'easy';
    const towerGrid = document.getElementById('tower-grid');
    function setTowerDiff(diff) {
      towerDifficulty = diff;
      document.querySelectorAll('.difficulty button').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
    }
    document.getElementById('start-tower').addEventListener('click', () => {
      if (coins < currentBet) {
        messageBox.textContent = "Fonduri insuficiente!";
        return;
      }
      coins -= currentBet;
      updateCoins();
      towerGrid.innerHTML = '';
      
      const rows = 8; // 8 etaje
      let cols, bombsPerRow, safePathsPerRow;

      if (towerDifficulty === 'easy') {
        cols = 3;
        bombsPerRow = 1;
        safePathsPerRow = 2; // 2 cƒÉi sigure pe fiecare etaj
      } else if (towerDifficulty === 'medium') {
        cols = 3;
        bombsPerRow = 2;
        safePathsPerRow = 1; // 1 cale sigurƒÉ pe fiecare etaj
      } else { // hard
        cols = 3;
        bombsPerRow = 2;
        safePathsPerRow = 1; // 1 cale sigurƒÉ pe fiecare etaj
      }

      // SetƒÉm coloanele grilei
      towerGrid.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;

      // GenerƒÉm pentru fiecare r√¢nd
      for (let row = 0; row < rows; row++) {
        // Alegem aleatoriu pozi»õiile sigure pentru acest r√¢nd
        const safeCols = [];
        while (safeCols.length < safePathsPerRow) {
            const col = Math.floor(Math.random() * cols);
            if (!safeCols.includes(col)) {
                safeCols.push(col);
            }
        }

        // Alegem aleatoriu pozi»õiile bombelor pentru acest r√¢nd
        const bombCols = [];
        while (bombCols.length < bombsPerRow) {
            const col = Math.floor(Math.random() * cols);
            // O pozi»õie nu poate fi »ôi sigurƒÉ »ôi bombƒÉ
            if (!bombCols.includes(col) && !safeCols.includes(col)) {
                bombCols.push(col);
            }
        }

        // Cream celulele pentru acest r√¢nd
        for (let col = 0; col < cols; col++) {
          const cell = document.createElement('div');
          cell.className = 'tower-cell';
          cell.textContent = 'üß±';
          cell.dataset.row = row;
          cell.dataset.col = col;
          
          // DeterminƒÉm tipul celulei
          if (bombCols.includes(col)) {
              cell.dataset.type = 'bomb';
          } else if (safeCols.includes(col)) {
              cell.dataset.type = 'safe';
              // DacƒÉ este ultimul r√¢nd, este calea finalƒÉ cƒÉtre c√¢»ôtig
              if (row === rows - 1) {
                  cell.dataset.final = 'true';
              }
          } else {
              cell.dataset.type = 'empty'; // CelulƒÉ goalƒÉ, dar nu periculoasƒÉ
          }

          cell.addEventListener('click', function () {
            if (this.dataset.revealed === 'true') return; // Nu po»õi da click de 2 ori
            this.dataset.revealed = 'true';

            if (this.dataset.type === 'bomb') {
              this.classList.add('bomb');
              this.textContent = 'üí£';
              messageBox.innerHTML = `<span style="color:#f00">üí• Ai dat peste o bombƒÉ! Joc terminat.</span>`;
              // DeblocƒÉm toate celulele pentru vizualizare
              document.querySelectorAll('.tower-cell').forEach(c => c.dataset.revealed = 'true');
              return;
            } else if (this.dataset.type === 'safe') {
              if (this.dataset.final === 'true') {
                  this.classList.add('bonus');
                  this.textContent = 'üí∞';
                  const win = Math.floor(currentBet * (2 + Math.random() * 3)); // C√¢»ôtig mai mare la final
                  coins += win;
                  messageBox.innerHTML = `<span style="color:#0f0">üéâ Ai ajuns la final! +${win} monede!</span>`;
                  updateCoins();
                  // DeblocƒÉm toate celulele pentru vizualizare
                  document.querySelectorAll('.tower-cell').forEach(c => c.dataset.revealed = 'true');
              } else {
                  this.classList.add('safe');
                  this.textContent = '‚úÖ';
                  messageBox.textContent = "Ai ales calea corectƒÉ!";
              }
            } else { // empty
              this.classList.add('safe');
              this.textContent = '‚úÖ';
              messageBox.textContent = "Cale sigurƒÉ.";
            }
          });
          towerGrid.appendChild(cell);
        }
      }
    });

    // --- MINER ---
    let bombCount = 1;
    const minerGrid = document.getElementById('miner-grid');
    let safeFound = 0;
    const xValues = { 1: 10, 3: 5, 5: 3.5, 10: 2, 15: 1.8, 20: 1.5, 24: 1.2 };
    function setBombs(count) {
      bombCount = count;
      document.querySelectorAll('.bombs-select button').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
    }
    document.getElementById('start-miner').addEventListener('click', () => {
      if (coins < currentBet) {
        messageBox.textContent = "Fonduri insuficiente!";
        return;
      }
      coins -= currentBet;
      updateCoins();
      minerGrid.innerHTML = '';
      safeFound = 0;
      const totalCells = 36;
      const bombs = new Set();
      while (bombs.size < bombCount) {
        bombs.add(Math.floor(Math.random() * totalCells));
      }
      for (let i = 0; i < totalCells; i++) {
        const cell = document.createElement('div');
        cell.className = 'miner-cell';
        cell.textContent = 'üíé';
        cell.dataset.index = i;
        cell.dataset.bomb = bombs.has(i) ? 'true' : 'false';
        cell.dataset.shown = 'false';
        cell.addEventListener('click', function () {
          if (this.dataset.shown === 'true') return;
          if (this.dataset.bomb === 'true') {
            this.classList.add('bomb');
            this.textContent = 'üí£';
            this.dataset.shown = 'true';
            messageBox.innerHTML = `<span style="color:#f00">üí• Ai dat peste o bombƒÉ!</span>`;
            document.getElementById('cash-out-miner').disabled = true;
          } else {
            this.classList.add('safe');
            this.textContent = '‚úÖ';
            this.dataset.shown = 'true';
            safeFound++;
            document.getElementById('cash-out-miner').disabled = false;
          }
        });
        minerGrid.appendChild(cell);
      }
      document.getElementById('cash-out-miner').disabled = true;
      document.getElementById('cash-out-miner').onclick = () => {
        const multiplier = xValues[bombCount];
        const win = Math.floor(currentBet * multiplier * (safeFound / (totalCells - bombCount)));
        coins += win;
        messageBox.innerHTML = `<span style="color:#0f0">üí∞ Ai extras ${win} monede!</span>`;
        // AratƒÉ toate
        document.querySelectorAll('.miner-cell').forEach(c => {
          if (c.dataset.bomb === 'true' && c.dataset.shown !== 'true') {
            c.classList.add('bomb');
            c.textContent = 'üí£';
          } else if (c.dataset.shown !== 'true') {
            c.classList.add('safe');
            c.textContent = 'üíé';
          }
        });
        document.getElementById('cash-out-miner').disabled = true;
        updateCoins();
      };
    });

    // --- CROSSY ROAD (Nou) ---
    let crossyGameActive = false;
    let crossyCurrentStep = 0;
    let crossyTotalSteps = 5; // NumƒÉrul de pa»ôi/linii
    let crossySafeChoices = []; // StocƒÉm alegerile sigure pentru fiecare pas
    let crossyPotentialWin = 0;
    const crossyGameArea = document.getElementById('crossy-game-area');
    const crossyMessage = document.getElementById('crossy-message');
    const crossyWinDisplay = document.getElementById('crossy-win-display');
    const crossyLeftBtn = document.getElementById('crossy-left-btn');
    const crossyCenterBtn = document.getElementById('crossy-center-btn');
    const crossyRightBtn = document.getElementById('crossy-right-btn');
    const startCrossyBtn = document.getElementById('start-crossy');
    const cashOutCrossyBtn = document.getElementById('cash-out-crossy');

    function startCrossyGame() {
        if (coins < currentBet) {
            crossyMessage.textContent = "Fonduri insuficiente!";
            return;
        }
        coins -= currentBet;
        updateCoins();

        crossyGameActive = true;
        crossyCurrentStep = 0;
        crossyPotentialWin = currentBet;
        crossySafeChoices = [];
        crossyGameArea.innerHTML = '';
        crossyMessage.textContent = "Alege direc»õia pentru primul pas!";
        crossyWinDisplay.textContent = `C√¢»ôtig poten»õial: ${crossyPotentialWin} monede`;
        startCrossyBtn.disabled = true;
        enableCrossyButtons();

        // GenerƒÉm alegerile sigure pentru fiecare pas
        for (let i = 0; i < crossyTotalSteps; i++) {
            const safeChoice = ['left', 'center', 'right'][Math.floor(Math.random() * 3)];
            crossySafeChoices.push(safeChoice);
        }

        createCrossyPath(crossyCurrentStep);
    }

    function createCrossyPath(step) {
        crossyGameArea.innerHTML = ''; // CurƒÉ»õƒÉm zona de joc

        // CreeazƒÉ linia curentƒÉ unde se aflƒÉ jucƒÉtorul
        const playerPath = document.createElement('div');
        playerPath.className = 'crossy-path';
        playerPath.style.background = '#555'; // Fundal diferit pentru linia jucƒÉtorului
        const player = document.createElement('div');
        player.className = 'crossy-player';
        player.id = 'crossy-player';
        player.textContent = 'üö∂';
        player.style.left = '50%'; // √éncepe √Æn mijloc
        playerPath.appendChild(player);
        crossyGameArea.appendChild(playerPath);

        // CreeazƒÉ urmƒÉtoarea linie cu ma»ôini
        const nextPath = document.createElement('div');
        nextPath.className = 'crossy-path';
        nextPath.id = 'crossy-next-path';

        // AdaugƒÉ ma»ôini √Æn mi»ôcare
        for (let i = 0; i < 3; i++) { // 3 ma»ôini
            const car = document.createElement('div');
            car.className = 'crossy-car';
            car.textContent = 'üöó';
            car.style.animationDelay = `${i * 1}s`; // Decalaj pentru ma»ôini
            car.style.top = `${5 + i * 10}px`; // Pozi»õie verticalƒÉ diferitƒÉ pentru fiecare
            nextPath.appendChild(car);
        }

        crossyGameArea.appendChild(nextPath);
    }

    function enableCrossyButtons() {
        crossyLeftBtn.disabled = false;
        crossyCenterBtn.disabled = false;
        crossyRightBtn.disabled = false;
    }
    function disableCrossyButtons() {
        crossyLeftBtn.disabled = true;
        crossyCenterBtn.disabled = true;
        crossyRightBtn.disabled = true;
    }

    function crossyChoose(choice) {
        if (!crossyGameActive) return;

        const player = document.getElementById('crossy-player');
        if (!player) return;

        disableCrossyButtons(); // DezactivƒÉm butoanele temporar

        // DeterminƒÉm pozi»õia »õintƒÉ √Æn func»õie de alegere
        let targetPosition;
        if (choice === 'left') targetPosition = '10%';
        else if (choice === 'center') targetPosition = '50%';
        else if (choice === 'right') targetPosition = '90%';

        // Anima»õie de mi»ôcare a jucƒÉtorului
        player.style.left = targetPosition;

        // VerificƒÉm dacƒÉ alegerea este corectƒÉ
        setTimeout(() => {
            const isSafe = (choice === crossySafeChoices[crossyCurrentStep]);

            if (isSafe) {
                crossyCurrentStep++;
                crossyPotentialWin = Math.floor(crossyPotentialWin * (1.5 + Math.random() * 0.5)); // Cre»ôtere c√¢»ôtig
                crossyWinDisplay.textContent = `C√¢»ôtig poten»õial: ${crossyPotentialWin} monede`;

                if (crossyCurrentStep >= crossyTotalSteps) {
                    // JucƒÉtorul a trecut toate liniile
                    crossyMessage.innerHTML = `<span style="color:#0f0">üéâ Ai trecut toate liniile! Ai c√¢»ôtigat ${crossyPotentialWin} monede!</span>`;
                    coins += crossyPotentialWin;
                    updateCoins();
                    endCrossyGame();
                } else {
                    // Trecem la urmƒÉtorul pas
                    crossyMessage.textContent = `Bun! Alege pentru pasul ${crossyCurrentStep + 1}.`;
                    createCrossyPath(crossyCurrentStep);
                    setTimeout(enableCrossyButtons, 500); // ActivƒÉm butoanele dupƒÉ o scurtƒÉ √Ænt√¢rziere
                }
            } else {
                // Alegere gre»ôitƒÉ - jucƒÉtorul este lovit
                crossyMessage.innerHTML = `<span style="color:#f00">üí• Ai fost lovit! Ai pierdut pariul.</span>`;
                endCrossyGame();
            }
        }, 600); // Durata anima»õiei (600ms)
    }

    function endCrossyGame() {
        crossyGameActive = false;
        crossyWinDisplay.textContent = '';
        startCrossyBtn.disabled = false;
        disableCrossyButtons();
        cashOutCrossyBtn.disabled = true;
    }

    startCrossyBtn.addEventListener('click', startCrossyGame);
    // --- Sf√¢r»ôit Crossy ---

    // --- RESETARE ---
    document.getElementById('reset').addEventListener('click', () => {
      if (confirm("Resetare totalƒÉ a progresului?")) {
        coins = 1000;
        historyCrush = [];
        localStorage.removeItem('funCasinoCoins');
        localStorage.removeItem('crushHistory');
        updateCoins();
        updateCrushHistory();
        messageBox.textContent = "‚úÖ Joc resetat!";
        // ResetƒÉm »ôi dificultatea Tower la easy
        towerDifficulty = 'easy';
        document.querySelectorAll('.difficulty button').forEach(b => b.classList.remove('active'));
        document.querySelector('.difficulty button').classList.add('active');
      }
    });
    // --- SUS»öINERE AUTOR ---
    document.getElementById('support').addEventListener('click', () => {
      window.open(instagramLink, '_blank');
    });
    // Ini»õializare
    updateCoins();
    updateCrushHistory();
  </script>
</body>
</html>